<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="using:DiffusionNexus.UI.Views.Dialogs"
        x:Class="DiffusionNexus.UI.Views.Dialogs.BackupCompareDialog"
        x:DataType="local:BackupCompareDialog"
        Title="Restore Backup - Compare Data"
        Width="550"
        SizeToContent="Height"
        WindowStartupLocation="CenterOwner"
        CanResize="False">
  
  <Grid Margin="24" RowDefinitions="Auto,Auto,Auto,Auto">
    
    <!-- Header -->
    <StackPanel Grid.Row="0" Margin="0,0,0,20">
      <TextBlock Text="Restore Backup" 
                 FontSize="20" 
                 FontWeight="Bold"
                 Margin="0,0,0,8"/>
      <TextBlock Text="Compare your current data with the selected backup before restoring."
                 TextWrapping="Wrap"
                 FontSize="13"
                 Opacity="0.7"/>
    </StackPanel>
    
    <!-- Warning -->
    <Border Grid.Row="1" 
            Background="#3D2914" 
            BorderBrush="#D9A54B"
            BorderThickness="1"
            CornerRadius="6" 
            Padding="12"
            Margin="0,0,0,20">
      <StackPanel Orientation="Horizontal" Spacing="8">
        <TextBlock Text="⚠" FontSize="16" VerticalAlignment="Center" Foreground="#D9A54B"/>
        <TextBlock Text="Restoring will replace ALL current datasets with the backup contents. This cannot be undone."
                   TextWrapping="Wrap"
                   FontSize="13"
                   Foreground="#E8C77B"
                   VerticalAlignment="Center"/>
      </StackPanel>
    </Border>
    
    <!-- Comparison Table -->
    <Border Grid.Row="2" 
            Background="#252526" 
            CornerRadius="8" 
            Padding="16"
            Margin="0,0,0,24">
      <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto" ColumnDefinitions="*,Auto,Auto">
        
        <!-- Header Row -->
        <TextBlock Grid.Row="0" Grid.Column="0" Text="" FontWeight="SemiBold" Opacity="0.7"/>
        <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding CurrentLabel}" 
                   FontWeight="SemiBold" HorizontalAlignment="Center" Width="120"/>
        <TextBlock Grid.Row="0" Grid.Column="2" Text="{Binding BackupLabel}" 
                   FontWeight="SemiBold" HorizontalAlignment="Center" Width="120" Foreground="#4CAF50"/>
        
        <!-- Separator -->
        <Border Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3" 
                Height="1" Background="#444" Margin="0,8,0,8"/>
        
        <!-- Date Row -->
        <TextBlock Grid.Row="2" Grid.Column="0" Text="Date" VerticalAlignment="Center"/>
        <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding CurrentDateText}" 
                   HorizontalAlignment="Center" VerticalAlignment="Center" Opacity="0.8"/>
        <TextBlock Grid.Row="2" Grid.Column="2" Text="{Binding BackupDateText}" 
                   HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="#4CAF50"/>
        
        <!-- Datasets Row -->
        <TextBlock Grid.Row="3" Grid.Column="0" Text="Datasets" VerticalAlignment="Center" Margin="0,8,0,0"/>
        <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding CurrentDatasets}" 
                   HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,8,0,0" FontSize="16"/>
        <TextBlock Grid.Row="3" Grid.Column="2" Text="{Binding BackupDatasets}" 
                   HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,8,0,0" FontSize="16" Foreground="#4CAF50"/>
        
        <!-- Images Row -->
        <TextBlock Grid.Row="4" Grid.Column="0" Text="Images" VerticalAlignment="Center" Margin="0,4,0,0"/>
        <TextBlock Grid.Row="4" Grid.Column="1" Text="{Binding CurrentImages}" 
                   HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,4,0,0" FontSize="16"/>
        <TextBlock Grid.Row="4" Grid.Column="2" Text="{Binding BackupImages}" 
                   HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,4,0,0" FontSize="16" Foreground="#4CAF50"/>
        
        <!-- Videos Row -->
        <TextBlock Grid.Row="5" Grid.Column="0" Text="Videos" VerticalAlignment="Center" Margin="0,4,0,0"/>
        <TextBlock Grid.Row="5" Grid.Column="1" Text="{Binding CurrentVideos}" 
                   HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,4,0,0" FontSize="16"/>
        <TextBlock Grid.Row="5" Grid.Column="2" Text="{Binding BackupVideos}" 
                   HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,4,0,0" FontSize="16" Foreground="#4CAF50"/>
        
        <!-- Captions Row -->
        <TextBlock Grid.Row="6" Grid.Column="0" Text="Captions" VerticalAlignment="Center" Margin="0,4,0,0"/>
        <TextBlock Grid.Row="6" Grid.Column="1" Text="{Binding CurrentCaptions}" 
                   HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,4,0,0" FontSize="16"/>
        <TextBlock Grid.Row="6" Grid.Column="2" Text="{Binding BackupCaptions}" 
                   HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,4,0,0" FontSize="16" Foreground="#4CAF50"/>
        
      </Grid>
    </Border>
    
    <!-- Buttons -->
    <StackPanel Grid.Row="3" 
                Orientation="Horizontal" 
                HorizontalAlignment="Right" 
                Spacing="12">
      <Button Content="Cancel" 
              Width="100"
              Padding="12,8"
              Click="OnCancelClick"/>
      <Button Content="Restore Backup" 
              Width="140"
              Padding="12,8"
              IsDefault="True"
              Background="#D9534F"
              Click="OnRestoreClick"/>
    </StackPanel>
    
  </Grid>
</Window>
